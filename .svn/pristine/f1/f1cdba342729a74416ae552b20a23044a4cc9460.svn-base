package Networks;

import javafx.application.Platform;
import javafx.scene.control.Slider;


public class ProgressBarSyn {
	static double progress = 0;
	static String macAddrString = "10.115.193.30";
	static String linuxAddrString = "10.115.209.74";
	static String localAddrString = "127.0.0.1";
	
	static int serverPort = 15126;
	static int clientPort = 15124;
	
	static Receiver receiver = null;
	static Sender sender = null;
	static Slider progressSlider = null;
	
	public ProgressBarSyn(){
		Thread thread = new Thread(new ReceiverThreaded());
		thread.start();
		sender = new Sender();
	}
	
	public static void setProgressBar(Slider progressSlider0){
		progressSlider = progressSlider0;
		
	}
	
	static double getProgress(){
		return progress;
	}
	
	public static void sendProgress(double progress0){
		System.out.println("set Progress");
		sender.send(progress0);
	}
	
	public static void receiveProgress(String senderAddr, double progress0){
		if(progressSlider != null & !senderAddr.equals(macAddrString)){
			Platform.runLater(new Runnable(){

				@Override
				public void run() {
					progressSlider.setValue(progress0);
					
				}
				
			});
		}
	}
	

}
